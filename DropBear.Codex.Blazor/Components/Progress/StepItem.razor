@namespace DropBear.Codex.Blazor.Components.Progress
@using DropBear.Codex.Blazor.Enums
@inherits DropBear.Codex.Blazor.Components.Bases.DropBearComponentBase

<div class="step @GetStepClass()"
     @onmouseover="HandleMouseOver"
     @onmouseout="HandleMouseOut">
    <div class="step-progress">
        <div class="step-progress-bar" style="@GetProgressStyle()">
            @if (IsActive)
            {
                <div class="progress-glow"></div>
            }
        </div>
    </div>
    <div class="step-content">
        <i class="@GetStepIcon()"></i>
        <span class="step-label" title="@Step.Label">@Step.Label</span>
        <div class="step-indicator" title="@GetStatusText()"></div>
    </div>

    @if (IsHovered)
    {
        <div class="step-tooltip">
            <div class="tooltip-content">
                <div class="tooltip-status">
                    <i class="@GetStatusIcon()"></i>
                    <span>@GetStatusText()</span>
                </div>
                @if (!string.IsNullOrEmpty(Step.Detail))
                {
                    <div class="tooltip-detail">@Step.Detail</div>
                }
                @if (Step.Duration.HasValue)
                {
                    <div class="tooltip-duration">@FormatDuration(Step.Duration.Value)</div>
                }
            </div>
        </div>
    }

    <!-- Position Label -->
    @if (Position == StepPosition.Previous)
    {
        <div class="step-position-badge previous">Previous</div>
    }
    else if (Position == StepPosition.Current)
    {
        <div class="step-position-badge current">Current</div>
    }
    else if (Position == StepPosition.Next)
    {
        <div class="step-position-badge next">Next</div>
    }
</div>
