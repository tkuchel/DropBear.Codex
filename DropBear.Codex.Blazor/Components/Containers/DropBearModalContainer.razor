@inject IModalService ModalService
@using DropBear.Codex.Blazor.Interfaces
@inherits DropBear.Codex.Blazor.Components.Bases.DropBearComponentBase

@if (ModalService.IsModalVisible)
{
    <div class="modal-overlay"
         @onclick="HandleOutsideClick"
         @onkeydown="HandleKeyDown"
         role="dialog"
         aria-modal="true"
         aria-labelledby="modal-title-@ComponentId"
         tabindex="-1"
         @ref="_modalOverlay">
        <div class="modal-content @_modalTransitionClass"
             id="modal-content-@ComponentId"
             style="@ModalStyle"
             @onclick:stopPropagation="true">
            <DynamicComponent Type="ModalService.CurrentComponent"
                              Parameters="ChildParameters"/>
        </div>
    </div>
}
